<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PleaseTweakWindows.ViewModels"
             xmlns:conv="using:PleaseTweakWindows.Converters"
             x:Class="PleaseTweakWindows.Views.SubTweakView"
             x:DataType="vm:SubTweakViewModel">

    <UserControl.Resources>
        <conv:InverseBoolConverter x:Key="InverseBool" />
    </UserControl.Resources>

    <Border Classes="sub-tweak-item">
        <Grid ColumnDefinitions="*,Auto,Auto,Auto">
            <!-- Name + Description tooltip -->
            <TextBlock Grid.Column="0"
                       Text="{Binding Name}"
                       VerticalAlignment="Center"
                       FontSize="13"
                       Foreground="{StaticResource PtwTextPrimaryBrush}"
                       ToolTip.Tip="{Binding Description}" />

            <!-- Apply Button -->
            <Button Grid.Column="1"
                    Content="Apply"
                    Classes="apply"
                    Command="{Binding ApplyCommand}"
                    IsEnabled="{Binding IsRunning, Converter={StaticResource InverseBool}}"
                    Margin="8,0,0,0" />

            <!-- Revert Button (only for Toggle type) -->
            <Button Grid.Column="2"
                    Content="Revert"
                    Classes="revert"
                    Command="{Binding RevertCommand}"
                    IsVisible="{Binding HasRevert}"
                    IsEnabled="{Binding IsRunning, Converter={StaticResource InverseBool}}"
                    Margin="6,0,0,0" />

            <!-- Spinner -->
            <ProgressBar Grid.Column="3"
                         Classes="spinner"
                         IsVisible="{Binding IsRunning}"
                         Margin="8,0,0,0" />
        </Grid>
    </Border>
</UserControl>
